# LOGGING

journald (which is implemented by the systemd-journald daemon)
provides an advanced log management system. journald collects messages from the kernel, the entire boot procedure, and services and writes these messages to an event journal. This event journal is stored in a binary format, and it can be queried using the journalctl command. The journalctl command enables you to access a deep level of detail about messages that are logged, as it is an integrated part of Systemd and, as such, receives all messages that have been generated by Systemd units.

## Checking the status of all systemd services
```
$ systemctl status
```
## List of System Logs

| Log File | Explanation |
---| ---|
| `/var/log/messages` | It's the generic log file where most messages are written |
| `/var/log/dmesg `| Contains the kernel log messages|
| `/var/log/secure` | Contains authentication-related messages|
| `/var/log/boot.log` | Contain messages that are related to system startup|
| `/var/log/audit/audit.log` | Contains audit messages and `SELinux` messages as well |
| `/var/log/maillog` | Containers mail-related messages |

## Checking the `SElinux logs` log:
```
~$ tail -10 /var/log/audit/audit.log
OR
~$ tail -f /var/log/audit/audit.log
```
## In cases where you need to run some test on the logging, use `logger`.
```
~$ logger hello
```
This will appear in the `/var/log/messages`

## Working with rsyslogd
Configuration location is in the `/etc/rsyslog.conf` and the most important part is the rules directives that specify what information should be logged and to which destination.

## Facilities

| Facility | Used by |
---| ---|
|auth/authpriv | Messages related to authentication. |
| cron | Messages generated by the crond service.|
| daemon | Generic facility that can be used for nonspecified daemons.|
| kern | Kernel messages.|
| lpr | Messages generated through the legacy lpd print system.
| mail | Email-related messages.
|mark | Special facility that can be used to write a marker periodically.
| news | Messages generated by the NNTP news system.
| security | Same as auth/authpriv. Should not be used anymore.
| syslog | Messages generated by the syslog system.
| user | Messages generated in user space.
| uucp | Messages generated by the legacy UUCP system.
| local0-7 | Messages generated by services that are configured by any of the local0 through local7 facilities.

## Priorities

| Priority | Description| 
---| ---|
| debug | Debug messages that will give as much information as possible about service operation.
| info | Informational messages about normal service operation.
| notice | Informational messages about items that might become an issue later.
| warning / warn | Something is suboptimal, but there is no real error yet.
| err /error | A noncritical error has occurred.
| crit | A critical error has occurred.
| alert | Used when the availability of the service is about to be discontinued.
| emerg/panic | Message generated when the availability of the service is discontinued.

Note:
For more details on Facilities and Priorities just look them up in `man 5 rsyslog.conf`

# Rotating Log Files
To prevent syslog messages from filling up the storage file, the log messages can be rotated in the logrotate directory `/etc/logrotate.conf`.

see `man logrotate` for details

# Journald
